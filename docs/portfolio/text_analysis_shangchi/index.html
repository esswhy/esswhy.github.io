<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>SY: Text and Sentiment Analysis: Songs from Shang-Chi and the Legend of the Ten Rings: The Album</title>

<meta property="description" itemprop="description" content="In this project, I explored songs from the *Shang-Chi* album by looking at word frequencies and conducted sentiment analysis using AFINN and NRC lexicons."/>

<link rel="canonical" href="https://esswhy.github.io/portfolio/text_analysis_shangchi/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2022-03-22"/>
<meta property="article:created" itemprop="dateCreated" content="2022-03-22"/>
<meta name="article:author" content="Shuying Yu"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="SY: Text and Sentiment Analysis: Songs from Shang-Chi and the Legend of the Ten Rings: The Album"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="In this project, I explored songs from the *Shang-Chi* album by looking at word frequencies and conducted sentiment analysis using AFINN and NRC lexicons."/>
<meta property="og:url" content="https://esswhy.github.io/portfolio/text_analysis_shangchi/"/>
<meta property="og:image" content="https://esswhy.github.io/portfolio/text_analysis_shangchi/text_analysis_shangchi_files/figure-html5/wordcloud-1.png"/>
<meta property="og:image:width" content="1248"/>
<meta property="og:image:height" content="768"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="SY"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="SY: Text and Sentiment Analysis: Songs from Shang-Chi and the Legend of the Ten Rings: The Album"/>
<meta property="twitter:description" content="In this project, I explored songs from the *Shang-Chi* album by looking at word frequencies and conducted sentiment analysis using AFINN and NRC lexicons."/>
<meta property="twitter:url" content="https://esswhy.github.io/portfolio/text_analysis_shangchi/"/>
<meta property="twitter:image" content="https://esswhy.github.io/portfolio/text_analysis_shangchi/text_analysis_shangchi_files/figure-html5/wordcloud-1.png"/>
<meta property="twitter:image:width" content="1248"/>
<meta property="twitter:image:height" content="768"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="SY: Text and Sentiment Analysis: Songs from Shang-Chi and the Legend of the Ten Rings: The Album"/>
<meta name="citation_fulltext_html_url" content="https://esswhy.github.io/portfolio/text_analysis_shangchi/"/>
<meta name="citation_online_date" content="2022/03/22"/>
<meta name="citation_publication_date" content="2022/03/22"/>
<meta name="citation_author" content="Shuying Yu"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","citation_url","date","categories","output","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Text and Sentiment Analysis: Songs from Shang-Chi and the Legend of the Ten Rings: The Album"]},{"type":"character","attributes":{},"value":["In this project, I explored songs from the *Shang-Chi* album by looking at word frequencies and conducted sentiment analysis using AFINN and NRC lexicons."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Shuying Yu"]}]}]},{"type":"character","attributes":{},"value":["https://esswhy.github.io/portfolio/text_analysis_shangchi/"]},{"type":"character","attributes":{},"value":["03-22-2022"]},{"type":"character","attributes":{},"value":["Text Analysis","Sentiment Analysis","R"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","code_folding","toc","toc_float"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["Code"]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["https://esswhy.github.io/portfolio/text_analysis_shangchi/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["shangchi_album_cover.jpg","text_analysis_shangchi_files/anchor-4.2.2/anchor.min.js","text_analysis_shangchi_files/bowser-1.9.3/bowser.min.js","text_analysis_shangchi_files/distill-2.2.21/template.v2.js","text_analysis_shangchi_files/figure-html5/afinn-1.png","text_analysis_shangchi_files/figure-html5/afinn-moving-average-1.png","text_analysis_shangchi_files/figure-html5/column-plot-1.png","text_analysis_shangchi_files/figure-html5/nrc-1.png","text_analysis_shangchi_files/figure-html5/wordcloud-1.png","text_analysis_shangchi_files/header-attrs-2.13/header-attrs.js","text_analysis_shangchi_files/jquery-3.6.0/jquery-3.6.0.js","text_analysis_shangchi_files/jquery-3.6.0/jquery-3.6.0.min.js","text_analysis_shangchi_files/jquery-3.6.0/jquery-3.6.0.min.map","text_analysis_shangchi_files/kePrint-0.0.1/kePrint.js","text_analysis_shangchi_files/lightable-0.0.1/lightable.css","text_analysis_shangchi_files/popper-2.6.0/popper.min.js","text_analysis_shangchi_files/tippy-6.2.7/tippy-bundle.umd.min.js","text_analysis_shangchi_files/tippy-6.2.7/tippy-light-border.css","text_analysis_shangchi_files/tippy-6.2.7/tippy.css","text_analysis_shangchi_files/tippy-6.2.7/tippy.umd.min.js","text_analysis_shangchi_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        return "<p>" + $('#ref-' + ref).html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Colors: https://www.colorhexa.com/ */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */
/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */

@import url('https://fonts.googleapis.com/css2?family=Amiri');
@import url('https://fonts.googleapis.com/css2?family=Bitter');
@import url('https://fonts.googleapis.com/css2?family=DM+Mono');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    "Amiri", serif;
  --mono-font:       "DM Mono", monospace;
  --body-font:       "Bitter", sans-serif;
  --navbar-font:     "Amiri", serif;
}


/*-- WIDGETS 
.html-widget {
    margin: auto; --*/ /*center widgets*/


/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       19px;    
  --text-color:       #800080; /*text color*/
  --text-size:        19px;
  --hover-color:      #676efd; /*text hover color*/
  --bkgd-color:       #d3beeb; /*banner background color */
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white; /*text hover color*/
  --bkgd-color:       #800080; /*link background color when hovered, #0F2E3D*/
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below*/


/*Date of the post list*/
.posts-list .metadata .publishedDate {
    color: #676efd; /*text color for date in blog*/
}


/* Change bullets */
ul > li::marker {
  font-size: 1.125em;
  color: #800080; /*bulletpoint color*/
}

/* Change link appearance */
d-article a {
  border-bottom: 2px solid #d3beeb; /*underline color*/
  text-decoration: none;
}



/*
 * CSS Snipped for display logo color brand on HOVER for font awesome social media icons
*/

.btn-outline-dark {
    background-color: transparent;
    color: #676efd; 
    border: 1px solid;
    border-color: #cccccc; /*icon link border color*/
}

.btn-outline-dark:hover {
    background-color: #ede5f7; /*icon link background hover color*/
    border-color: #d3beeb; /*icon link border hover color*/
    color: white;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.13/header-attrs.js"></script>
  <script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
  <script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Text and Sentiment Analysis: Songs from Shang-Chi and the Legend of the Ten Rings: The Album","description":"In this project, I explored songs from the *Shang-Chi* album by looking at word frequencies and conducted sentiment analysis using AFINN and NRC lexicons.","authors":[{"author":"Shuying Yu","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2022-03-22T00:00:00.000-07:00","citationText":"Yu, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">SY</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="../../resume.html">Resume</a>
<a href="../../portfolio.html">Portfolio</a>
<a href="../../scientific_communication.html">Publications</a>
<a href="../../blog.html">Blog</a>
<a href="https://github.com/esswhy/esswhy.github.io">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Text and Sentiment Analysis: Songs from Shang-Chi and the Legend of the Ten Rings: The Album</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../portfolio.html#category:Text_Analysis" class="dt-tag">Text Analysis</a>
  <a href="../../portfolio.html#category:Sentiment_Analysis" class="dt-tag">Sentiment Analysis</a>
  <a href="../../portfolio.html#category:R" class="dt-tag">R</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>In this project, I explored songs from the <em>Shang-Chi</em> album by looking at word frequencies and conducted sentiment analysis using AFINN and NRC lexicons.</p></p>
</div>

<div class="d-byline">
  Shuying Yu  
  
<br/>03-22-2022
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#research-motivation">Research Motivation</a></li>
<li><a href="#data-and-methods">Data and Methods</a></li>
<li><a href="#results">Results</a>
<ul>
<li><a href="#text-analysis">Text Analysis</a>
<ul>
<li><a href="#word-frequency">Word Frequency</a></li>
<li><a href="#wordcloud-overall">Wordcloud Overall</a></li>
</ul></li>
<li><a href="#section"></a></li>
<li><a href="#sentiment-analysis">Sentiment Analysis</a>
<ul>
<li><a href="#nrc-frequency">NRC Frequency</a></li>
<li><a href="#afinn-mean-ranking">AFINN Mean Ranking</a></li>
<li><a href="#afinn-moving-average">AFINN Moving Average</a></li>
</ul></li>
<li><a href="#section-1"></a></li>
</ul></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#references">References</a>
<ul>
<li><a href="#data-and-literature">Data and Literature</a></li>
<li><a href="#r-libraries">R Libraries</a></li>
</ul></li>
</ul>
</nav>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/knitr/man/opts_chunk.html'>opts_chunk</a></span><span class='op'>$</span><span class='fu'>set</span><span class='op'>(</span>echo <span class='op'>=</span> <span class='cn'>TRUE</span>, warning <span class='op'>=</span> <span class='cn'>FALSE</span>, message <span class='op'>=</span> <span class='cn'>FALSE</span>,
                      fig.align <span class='op'>=</span> <span class='st'>"center"</span><span class='op'>)</span>

<span class='co'>#Attach libraries</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://here.r-lib.org/'>here</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://readxl.tidyverse.org'>readxl</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://haozhu233.github.io/kableExtra/'>kableExtra</a></span><span class='op'>)</span>

<span class='co'>#For figures</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://patchwork.data-imaginist.com'>patchwork</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/EmilHvitfeldt/paletteer'>paletteer</a></span><span class='op'>)</span>

<span class='co'>#For text and sentiment analysis</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/juliasilge/tidytext'>tidytext</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/EmilHvitfeldt/textdata'>textdata</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/lepennec/ggwordcloud'>ggwordcloud</a></span><span class='op'>)</span>

<span class='co'>#For moving average</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://zoo.R-Forge.R-project.org/'>zoo</a></span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h1 id="introduction">Introduction</h1>
<p>In this project, I explored and analyzed text data from songs in the <em>Shang-Chi and the Legend of the Ten Rings: The Album</em> official motion picture soundtrack. Lyrics for each song was tokenized to explore the most common words by each song and across all songs. Sentiment analysis was conducted to explore the valence and emotional ratings of words appearing in each song.</p>
<p><img src="shangchi_album_cover.jpg" /> <strong>Figure 1.</strong> Album cover for <em>Shang-Chi and the Legend of the Ten Rings: The Album</em>. Data source: Marvel (2021).</p>
<p><br></p>
<h1 id="research-motivation">Research Motivation</h1>
<p>The movie <em>Shang-Chi and the Legend of the Ten Rings</em> (<em>Shang-Chi</em> for short) is the first Marvel Comics superhero film that featured a main Asian superhero character and a majority Asian cast. The soundtrack <em>Shang-Chi and the Legend of the Ten Rings: The Album</em> was executively produced by 88rising, a prominent Asian owned record label and production company that celebrates the talent of Asian music artists. 88rising (88 symbolizing double happiness in Chinese) is also known as the Disney of Asian hip-hop (Wikipedia, 2022). I loved watching <em>Shang-Chi</em> and the soundtrack was a masterpiece with a flawless selection of artists who created amazing beats that resonated with and were based on the films tones and themes of home, family, love, and the Asian-American identity (Marvel, 2021).</p>
<p>The creative process was really inspiring, thus I wanted to do a text and sentiment analysis on a selection of songs from the soundtrack. I highly recommend you <a href="https://shang-chi.lnk.to/Soundtrack">listen to the album</a> as you read through this project!</p>
<h1 id="data-and-methods">Data and Methods</h1>
<p>The soundtrack was executively produced by 88rising and released by Marvel Music/Hollywood Records and Interscope Records for the <em>Shang-Chi</em> motion picture soundtrack on September 3, 2021 (Marvel, 2021). I chose songs that were sung predominantly in English (e.g., no entire verses in Mandarin) in order to perform the text analyses (which is why Lazy Susan was cut from the list), and selected the remaining songs that I considered as my top 10 favorites. Lyrics were taken from LyricFind, Musixmatch, and Genius when queried in the Google search engine.</p>
<p>Exploratory text analysis was performed by wrangling the data and tokenizing the lyrics into individual words. Stop words were filtered out to retain more functionally meaningful words for analysis. The top eight words by each song were plotted and the top 100 words overall across the songs were visualized in a word cloud. Sentiment analysis was done to assess valence and emotional ratings for words within each song using the NRC and AFINN lexicons. Additionally, a sentiment trajectory was plotted using calculations from a moving average of AFINN scores for words throughout the entire album. All analyses were conducted in R version 4.1.1 and RStudio version 1.4.1717.</p>
<h1 id="results">Results</h1>
<h2 class="tabset" id="text-analysis">Text Analysis</h2>
<p>The below table (<strong>Table 1</strong>) shows the top 10 songs selected for this text analysis.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Read in the data</span>
<span class='va'>shangchi</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_xlsx</a></span><span class='op'>(</span><span class='fu'><a href='https://here.r-lib.org//reference/here.html'>here</a></span><span class='op'>(</span><span class='st'>"data"</span>, <span class='st'>"shangchi_ost.xlsx"</span><span class='op'>)</span><span class='op'>)</span>


<span class='co'>#Show top 10 fave songs</span>
<span class='va'>shangchi</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
    
  <span class='co'>#Filter out other tracks</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>song_number</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Remove variables for table</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>track_number</span>, <span class='va'>song_name</span>, <span class='va'>artist_name</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Rename columns</span>
  <span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span>col.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Track Number"</span>, <span class='st'>"Song Name"</span>, <span class='st'>"Artist Names"</span><span class='op'>)</span>,
        
        <span class='co'>#Change alignment</span>
        align <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"c"</span>, <span class='st'>"l"</span>, <span class='st'>"l"</span><span class='op'>)</span>,
        
        <span class='co'>#Add caption</span>
        caption <span class='op'>=</span> <span class='st'>"Track number, song name, and artist names are 
                  displayed for the top 10 favorite
                  songs from &lt;i&gt;Shang-Chi and the Legend of the Ten 
                  Rings: The Album&lt;/i&gt;. Data source: Marvel (2021)."</span>,
        
        <span class='co'>#Change width of table</span>
        table.attr <span class='op'>=</span> <span class='st'>"style='width:80%;'"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Make table striped and hover</span>
  <span class='fu'><a href='https://rdrr.io/pkg/kableExtra/man/kable_styling.html'>kable_styling</a></span><span class='op'>(</span>bootstrap_options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"hover"</span>, <span class='st'>"striped"</span><span class='op'>)</span>,
                
                <span class='co'>#Center table</span>
                position <span class='op'>=</span> <span class='st'>"center"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table style="width:80%; margin-left: auto; margin-right: auto;" class="table table-hover table-striped">
<caption>
<span id="tab:table-songs">Table 1: </span>Track number, song name, and artist names are displayed for the top 10 favorite songs from <i>Shang-Chi and the Legend of the Ten Rings: The Album</i>. Data source: Marvel (2021).
</caption>
<thead>
<tr>
<th style="text-align:center;">
Track Number
</th>
<th style="text-align:left;">
Song Name
</th>
<th style="text-align:left;">
Artist Names
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:left;">
Always Rising
</td>
<td style="text-align:left;">
NIKI, Rich Brian, Warren Hue
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:left;">
In the Dark
</td>
<td style="text-align:left;">
Swae Lee, Jhen Aiko
</td>
</tr>
<tr>
<td style="text-align:center;">
6
</td>
<td style="text-align:left;">
Fire in the Sky
</td>
<td style="text-align:left;">
Anderson .Paak
</td>
</tr>
<tr>
<td style="text-align:center;">
8
</td>
<td style="text-align:left;">
Every Summertime
</td>
<td style="text-align:left;">
NIKI
</td>
</tr>
<tr>
<td style="text-align:center;">
9
</td>
<td style="text-align:left;">
Never Gonna Come Down
</td>
<td style="text-align:left;">
Mark Tuan, BIBI
</td>
</tr>
<tr>
<td style="text-align:center;">
10
</td>
<td style="text-align:left;">
Foolish
</td>
<td style="text-align:left;">
Rich Brian, Warren Hue, Guapdad 4000
</td>
</tr>
<tr>
<td style="text-align:center;">
12
</td>
<td style="text-align:left;">
Act Up
</td>
<td style="text-align:left;">
Rich Brian, EARTHGANG
</td>
</tr>
<tr>
<td style="text-align:center;">
14
</td>
<td style="text-align:left;">
Run It
</td>
<td style="text-align:left;">
DJ Snake, Rick Ross, Rich Brian
</td>
</tr>
<tr>
<td style="text-align:center;">
15
</td>
<td style="text-align:left;">
Swan Song
</td>
<td style="text-align:left;">
Saweetie, NIKI
</td>
</tr>
<tr>
<td style="text-align:center;">
18
</td>
<td style="text-align:left;">
Warriors
</td>
<td style="text-align:left;">
Warren Hue, Seori
</td>
</tr>
</tbody>
</table>
</div>
<p><br></p>
<h3 id="word-frequency">Word Frequency</h3>
<p>I explored the top eight most common words from each song. To do this, I converted the lyrics into all lowercase words, then tokenized them into individual words per row. After removing common stop words and checking the subset dataframe, I noticed that there were some other words that, while often used in rap, hip-hop, and R&amp;B music, should be removed because they dont provide any functional meaning to the lyrics. These are words that are dropped from the lyrics such as yeah and ay. The words are then plotted as column or bar graphs for each song.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Tokenize lyrics into words</span>
<span class='va'>shangchi_words</span> <span class='op'>&lt;-</span> <span class='va'>shangchi</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Filter out other tracks</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>song_number</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Change string in `lyrics` to all lowercase</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>lyrics <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/case.html'>str_to_lower</a></span><span class='op'>(</span><span class='va'>lyrics</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Remove excess leading and trailing white space from `lyrics`</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>lyrics <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_trim.html'>str_trim</a></span><span class='op'>(</span><span class='va'>lyrics</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Tokenize by words, drops punctuation</span>
  <span class='co'>#Creates new column called `word` which tokenizes `lyrics` by words</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tidytext/man/unnest_tokens.html'>unnest_tokens</a></span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>lyrics</span>, token <span class='op'>=</span> <span class='st'>"words"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Remove stop words</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter-joins.html'>anti_join</a></span><span class='op'>(</span><span class='va'>stop_words</span><span class='op'>)</span>


<span class='co'>#Word count of songs</span>
<span class='va'>shangchi_wordcount</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_words</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Count words by song</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>song_name</span>, <span class='va'>word</span><span class='op'>)</span>


<span class='co'>#Add more stop words to remove</span>
<span class='va'>my_stopwords</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>word <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"yeah"</span>, <span class='st'>"ay"</span>, <span class='st'>"ayy"</span>, <span class='st'>"ba"</span>, <span class='st'>"brr"</span>, <span class='st'>"dadum"</span>,
                                <span class='st'>"di"</span>, <span class='st'>"da"</span>, <span class='st'>"boom"</span>, <span class='st'>"em"</span>, <span class='st'>"uh"</span>, <span class='st'>"huh"</span>,
                                <span class='st'>"ah"</span>, <span class='st'>"ooh"</span>, <span class='st'>"hm"</span>, <span class='st'>"woah"</span><span class='op'>)</span><span class='op'>)</span>


<span class='co'>#Further remove my stop words</span>
<span class='va'>shangchi_words</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_words</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter-joins.html'>anti_join</a></span><span class='op'>(</span><span class='va'>my_stopwords</span><span class='op'>)</span>


<span class='co'>#Recount words</span>
<span class='va'>shangchi_wordcount</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_words</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>song_name</span>, <span class='va'>word</span><span class='op'>)</span>



<span class='co'>#Top 8 words by song</span>
<span class='va'>shangchi_top8_words</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_wordcount</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Group by song name</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>song_name</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Descending order of number/count</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>n</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Top 8</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/slice.html'>slice</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>8</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Add space after longer song titles</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>song_name <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/recode.html'>recode</a></span><span class='op'>(</span><span class='va'>song_name</span>,
                            <span class='st'>"Always Rising"</span> <span class='op'>=</span> <span class='st'>"Always\nRising"</span>,
                            <span class='st'>"Every Summertime"</span> <span class='op'>=</span> <span class='st'>"Every\nSummertime"</span>,
                            <span class='st'>"Fire in the Sky"</span> <span class='op'>=</span> <span class='st'>"Fire in\nthe Sky"</span>,
                            <span class='st'>"Never Gonna Come Down"</span> <span class='op'>=</span> <span class='st'>"Never Gonna\nCome Down"</span><span class='op'>)</span><span class='op'>)</span>


<span class='co'>#Plot top 8 words by song name</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>shangchi_top8_words</span>, 
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>n</span>, y <span class='op'>=</span> <span class='va'>word</span>, fill <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Define bar plot</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Facet by song name, keep rows to 2</span>
  <span class='co'>#Scale based on own song</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span> <span class='va'>song_name</span>, nrow <span class='op'>=</span> <span class='fl'>2</span>,
             scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Change color</span>
  <span class='fu'><a href='https://rdrr.io/pkg/paletteer/man/ggplot2-scales-continuous.html'>scale_fill_paletteer_c</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"gameofthrones::lannister"</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Chnage labels</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"Frequency"</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Change theme</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Allow objects outside plot area to be within margin</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>clip <span class='op'>=</span> <span class='st'>'off'</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Add custom theme</span>
  <span class='co'>#Change facet label font size and make bold</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>strip.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>face <span class='op'>=</span> <span class='st'>"bold"</span>,
                                  size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,
        
        <span class='co'>#Change size and angle of x-axis text</span>
        axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span><span class='op'>)</span>,
        
        <span class='co'>#Change legend position</span>
        legend.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.08</span>, <span class='fl'>0.5</span><span class='op'>)</span>,
        
        <span class='co'>#Change plot margins</span>
        <span class='co'>#Top, right, bottom, left</span>
        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>2.8</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='st'>"cm"</span><span class='op'>)</span>,
        
        <span class='co'>#Remove axes labels</span>
        axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="text_analysis_shangchi_files/figure-html5/column-plot-1.png" width="960" style="display: block; margin: auto;" /></p>
</div>
<p><strong>Figure 2.</strong> Top eight most common or frequently used words in the lyrics for each song. Data source: LyricFind, Musixmatch, &amp; Genius.</p>
<p><br></p>
<p>NIKI said that she was given a brief to write a song for <em>Shang-Chi</em> to tell the love story between Shang-Chis parents (YouTube, 2022), so she wrote Every Summertime to encapsulate two Asian-American lovers falling in love during the summer in the 80s in San Francisco. The word summertime represents youth and feeling carefree, and fall (in) love is a no-brainer.</p>
<p>Swan Song was played at the end of the film when the character Xialing takes command over her fathers empire, which she transforms by allowing men and women to be treated equally. This song uses the phrase out with the old, in with the new. Given Xialings grind and hustle to lead the new generation of warriors, words like trend, nonstop, and dawn within the lyrics are fitting.</p>
<p>Many of the other songs show that the most frequent words seem to be aligned with the story of what the song conveys, and ties back to the themes of family, love, conflict, and identity.</p>
<h3 id="wordcloud-overall">Wordcloud Overall</h3>
<p>In addition to finding the most frequent words within each song, I also wanted to find the top 100 frequent words across all songs.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Top 100 words, no duplicates</span>
<span class='va'>shangchi_top100_words</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_wordcount</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Descending order of number/count</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>n</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Top 100</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/slice.html'>slice</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>100</span><span class='op'>)</span>



<span class='co'>#Plot wordcloud</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>shangchi_top100_words</span>, 
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>word</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Define word cloud</span>
  <span class='co'>#Color and size changes based on n</span>
  <span class='fu'><a href='https://lepennec.github.io/ggwordcloud/reference/geom_text_wordcloud.html'>geom_text_wordcloud</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='va'>n</span>, size <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span>, 
                      
                      <span class='co'>#Change cloud based on shape</span>
                      shape <span class='op'>=</span> <span class='st'>"diamond"</span>,
                      
                      <span class='co'>#Set seed</span>
                      seed <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Make scale for color</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_gradient.html'>scale_color_gradientn</a></span><span class='op'>(</span>colors <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"darkorange"</span>, <span class='st'>"darkmagenta"</span>, <span class='st'>"firebrick"</span>, <span class='st'>"#593d9cff"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Scale size</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_size.html'>scale_size_area</a></span><span class='op'>(</span>max_size <span class='op'>=</span> <span class='fl'>18</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Change theme</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="text_analysis_shangchi_files/figure-html5/wordcloud-1.png" width="624" data-distill-preview=1 style="display: block; margin: auto;" /></p>
</div>
<p><strong>Figure 3.</strong> Word cloud for the top 100 most frequent words across all songs. Gradient of colors (orange to purple) and size (small to large) represent how commonly used the word is across all 10 songs. Data source: LyricFind, Musixmatch, &amp; Genius.</p>
<p><br></p>
<p>The word cloud shows that the most common word is momma and call, from the first track in the album named Always Rising. This occurs the most often because these words were used in the chorus. In Asian cultures, verbal affection (words of affirmation) is foreign and parents rarely, if ever, say I love you. Instead, love is shown through actions and acts of service. One of the most common ways Asian parents tell their children they love them is by asking them if theyve eaten yet, usually mentioned in phone calls with their children or when their children come home to visit them. The part of the verse by Warren Hue that goes Momma call my celly, Food gettin cold symbolizes the love that Asian parents have for their children by cooking meals, but also brings up another quip about Asian-American culture that parents prefer their children to come home and not be out all the time. Hence, the lyric means I made you food, so come home before the food gets cold. Overall, the lyrics highlight the combination of themes of family, perseverance, and the Asian-American experience (Envimedia, 2021).</p>
<p>Other noticeable words like warriors, alive, secrets, heart also help compile the narrative of <em>Shang-Chi</em>.</p>
<h2 class="unnumbered" id="section"></h2>
<p><br></p>
<h2 class="tabset" id="sentiment-analysis">Sentiment Analysis</h2>
<p>Words can be associated with an emotional weight, and can also have either a positive or negative association. The two lexicons I will use to evaluate the 10 songs are:</p>
<ul>
<li><p><strong>NRC Emotion Lexicon:</strong> created by Saif Mohammad and Peter Turney, in which words are ranked by sentiments (positive and negative), and also associated with one of eight emotions including fear, anger, trust, sadness, disgust, anticipation, joy, and surprise (Mohammad &amp; Turney, 2013)</p></li>
<li><p><strong>AFINN Lexicon:</strong> created by Finn rup Nielsen, in which words are ranked for valence from an integer scale of -5 (most negative sentiment) to +5 (most positive sentiment) (Nielsen, 2011)</p></li>
</ul>
<p><br></p>
<h3 id="nrc-frequency">NRC Frequency</h3>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#First, bind words in `shangchi_words` to `nrc` lexicon:</span>
<span class='va'>shangchi_nrc</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_words</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Keep instance of first df that match 2nd df</span>
  <span class='co'>#Keep rows that match between the two</span>
  <span class='co'>#AFINN score in `value` column</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>inner_join</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/tidytext/man/get_sentiments.html'>get_sentiments</a></span><span class='op'>(</span><span class='st'>"nrc"</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"word"</span><span class='op'>)</span>



<span class='co'>#Count words by sentiment group</span>
<span class='va'>shangchi_nrc_count</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_nrc</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Count sentiment words by song name</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>song_name</span>, <span class='va'>sentiment</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Add space after longer song titles</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>song_name <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/recode.html'>recode</a></span><span class='op'>(</span><span class='va'>song_name</span>,
                            <span class='st'>"Always Rising"</span> <span class='op'>=</span> <span class='st'>"Always\nRising"</span>,
                            <span class='st'>"Every Summertime"</span> <span class='op'>=</span> <span class='st'>"Every\nSummertime"</span>,
                            <span class='st'>"Fire in the Sky"</span> <span class='op'>=</span> <span class='st'>"Fire in\nthe Sky"</span>,
                            <span class='st'>"Never Gonna Come Down"</span> <span class='op'>=</span> <span class='st'>"Never Gonna\nCome Down"</span><span class='op'>)</span><span class='op'>)</span>



<span class='co'>#Plot frequency of sentiment words</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>shangchi_nrc_count</span>, 
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>n</span>, y <span class='op'>=</span> <span class='va'>sentiment</span>, fill <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Define bar plot</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Facet by song name, keep rows to 2</span>
  <span class='co'>#Scale based on own song</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span> <span class='va'>song_name</span>, nrow <span class='op'>=</span> <span class='fl'>2</span>,
             scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Change color</span>
  <span class='fu'><a href='https://rdrr.io/pkg/paletteer/man/ggplot2-scales-continuous.html'>scale_fill_paletteer_c</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"grDevices::Red-Yellow"</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Change labels</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"Frequency"</span><span class='op'>)</span> <span class='op'>+</span> 
  
  <span class='co'>#Change theme</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Add custom theme</span>
  <span class='co'>#Change facet label font size and make bold</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>strip.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>face <span class='op'>=</span> <span class='st'>"bold"</span>,
                                  size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,
        
        <span class='co'>#Change size of axis text</span>
        axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span><span class='op'>)</span>,
        
        <span class='co'>#Remove axes labels</span>
        axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        
        <span class='co'>#Change legend position</span>
        legend.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.08</span>, <span class='fl'>0.5</span><span class='op'>)</span>,
        
        <span class='co'>#Change plot margins</span>
        <span class='co'>#Top, right, bottom, left</span>
        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>2.8</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='st'>"cm"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="text_analysis_shangchi_files/figure-html5/nrc-1.png" width="960" style="display: block; margin: auto;" /></p>
</div>
<p><strong>Figure 4.</strong> Valence and emotional rating for lyrics in each song using NRC lexicon. Data source: LyricFind, Musixmatch, &amp; Genius.</p>
<p><br></p>
<p>Surprisingly, Foolish contained the most positive words, even more than Fire in the Sky and Every Summertime which are the two well known, good vibes-esque, falling-in-love songs. The song Foolish is a haughty anthem, calling out those who are all talk, such as being flashy and highly exuberant (Envimedia, 2021). Perhaps NRC lexicon categorized these adjectives and nouns as being positive without consideration of the context in which these words are being used.</p>
<p>The songs Warriors and Never Gonna Come Down had the most words grouped into emotions for anticipation and anger. However, Warriors also contained the most words associated with trust. Warriors lyrics describe the story and expectations of growing up Asian-American and trying to find ones identity without conforming to stereotypical molds (Envimedia, 2021). Never Gonna Come Down sings about the frustrations of love, and likely where the words associated with anticipation come in.</p>
<p>In the Dark contained the most words associated with the sadness and negative emotions, as the song lyrics describe a relationship where a partner feels abandoned and feeling like they deserve more. This song can resonate with Shang-Chi as a child whose mother passed when he was young, or another character Wenwu who lost his wife and began to spiral into his path as a villain in the movie.</p>
<h3 id="afinn-mean-ranking">AFINN Mean Ranking</h3>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#First, bind words in `shangchi_words` to `afinn` lexicon:</span>
<span class='va'>shangchi_afinn</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_words</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Keep instance of first df that match 2nd df</span>
  <span class='co'>#Keep rows that match between the two</span>
  <span class='co'>#AFINN score in `value` column</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>inner_join</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/tidytext/man/get_sentiments.html'>get_sentiments</a></span><span class='op'>(</span><span class='st'>"afinn"</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"word"</span><span class='op'>)</span>


<span class='co'>#Find the mean afinn score by song</span>
<span class='va'>shangchi_afinn_mean</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_afinn</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Group by song name</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>song_name</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Get mean of AFINN lexicon</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarize</a></span><span class='op'>(</span>mean_afinn <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span><span class='op'>)</span>



<span class='co'>#Plot means</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>shangchi_afinn_mean</span>, 
       
       <span class='co'>#Order song name by alphabetical order</span>
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_rev.html'>fct_rev</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>song_name</span><span class='op'>)</span><span class='op'>)</span>, 
           y <span class='op'>=</span> <span class='va'>mean_afinn</span>, 
           fill <span class='op'>=</span> <span class='va'>song_name</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Define column plot, remove legend</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Change fill color</span>
  <span class='fu'><a href='https://rdrr.io/pkg/paletteer/man/ggplot2-scales-discrete.html'>scale_fill_paletteer_d</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"palettetown::moltres"</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Set y-axis from -1.6 to +1.6 (really is x-axis because was flipped)</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>1.6</span>, <span class='fl'>1.6</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Flip coordinate</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Change x-axis and y-axis labels</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"Song Name\n"</span>, 
       y <span class='op'>=</span> <span class='st'>"\nMean Sentiment Ranking (AFINN Lexicon)"</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Change theme</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Add custom theme</span>
  <span class='co'>#Add x ad y axis line to plot, change size and color</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.line.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>0.5</span>, color <span class='op'>=</span> <span class='st'>"darkgrey"</span><span class='op'>)</span>,
        
        <span class='co'>#Bold and change size of axes titles</span>
        axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>face <span class='op'>=</span> <span class='st'>"bold"</span>, size <span class='op'>=</span> <span class='fl'>12</span><span class='op'>)</span>,
        
        <span class='co'>#Change size of axis ticks</span>
        axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>,
        
        <span class='co'>#Expand grid</span>
        <span class='co'>#Top, right, bottom, left</span>
        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>1.2</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='st'>"cm"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="text_analysis_shangchi_files/figure-html5/afinn-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p><strong>Figure 5.</strong> Mean sentiment ranking by song using AFINN lexicon. Data source: LyricFind, Musixmatch, &amp; Genius.</p>
<p><br></p>
<p>The songs that, on average, contained the most positive words using AFINN lexicon (<strong>Figure 5</strong>) are Fire in the Sky, Every Summertime, Swan Song, and Always Rising. Given the upbeat melody and themes of the song about love, representation, and self-renewal, it makes sense that these songs contained more positively associated words.</p>
<p>The rest of the songs contained, on average, more negatively associated words. Run It was played during the iconic fight scene with Shang-Chi on the San Francisco bus, and the lyrics and beats definitely amp up listeners for a battle scene. In the Dark lyrics describe feelings of abandonment and reaching for something more in a relationship.</p>
<p>Interestingly, Foolish shows that words were on average more negative using the AFINN lexicon, which is the opposite interpretation when using the NRC emotion lexicon because it categorized the majority of words as generally positive (<strong>Figure 4</strong>).</p>
<h3 id="afinn-moving-average">AFINN Moving Average</h3>
<p>Generally, songs from a soundtrack are played on shuffle or only a few select songs are listened to. Artists like Adele have made a case that listening to the songs in the order they are listed in the album is important. She says, We dont create albums with so much care and thought into our track listing for no reason. Our art tells a story and our stories should be listened to as we intended (NPR, 2021).</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#Show all songs</span>
<span class='va'>shangchi</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Remove variables for table</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>track_number</span>, <span class='va'>song_name</span>, <span class='va'>artist_name</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Rename columns</span>
  <span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span>col.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Track Number"</span>, <span class='st'>"Song Name"</span>, <span class='st'>"Artist Names"</span><span class='op'>)</span>,
        
        <span class='co'>#Change alignment</span>
        align <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"c"</span>, <span class='st'>"l"</span>, <span class='st'>"l"</span><span class='op'>)</span>,
        
        <span class='co'>#Add caption</span>
        caption <span class='op'>=</span> <span class='st'>"Track number, song name, and artist names are 
                  displayed for each song from &lt;i&gt;Shang-Chi and the 
                  Legend of the Ten Rings: The Album&lt;/i&gt;. 
                  Data source: Marvel (2021)."</span>,
        
        <span class='co'>#Change width of table</span>
        table.attr <span class='op'>=</span> <span class='st'>"style='width:80%;'"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Make table striped and hover</span>
  <span class='fu'><a href='https://rdrr.io/pkg/kableExtra/man/kable_styling.html'>kable_styling</a></span><span class='op'>(</span>bootstrap_options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"hover"</span>, <span class='st'>"striped"</span><span class='op'>)</span>,
                
                <span class='co'>#Center table</span>
                position <span class='op'>=</span> <span class='st'>"center"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Add scroll box</span>
  <span class='fu'><a href='https://rdrr.io/pkg/kableExtra/man/scroll_box.html'>scroll_box</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='st'>"100%"</span>, height <span class='op'>=</span> <span class='st'>"300px"</span>, 
             fixed_thead <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>enabled <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table style="width:80%; margin-left: auto; margin-right: auto;" class="table table-hover table-striped">
<caption>
<span id="tab:table-songs2">Table 2: </span>Track number, song name, and artist names are displayed for each song from <i>Shang-Chi and the Legend of the Ten Rings: The Album</i>. Data source: Marvel (2021).
</caption>
<thead>
<tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Track Number
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Song Name
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Artist Names
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:left;">
Always Rising
</td>
<td style="text-align:left;">
NIKI, Rich Brian, Warren Hue
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:left;">
Diamond + and Pearls
</td>
<td style="text-align:left;">
DPR LIVE, DPR IAN, peace
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:left;">
In the Dark
</td>
<td style="text-align:left;">
Swae Lee, Jhen Aiko
</td>
</tr>
<tr>
<td style="text-align:center;">
4
</td>
<td style="text-align:left;">
Lazy Susan
</td>
<td style="text-align:left;">
21 Savage, Rich Brian, Masiwei, Warren Hue
</td>
</tr>
<tr>
<td style="text-align:center;">
5
</td>
<td style="text-align:left;">
Nomad
</td>
<td style="text-align:left;">
Zion.T, Gen Hoshino
</td>
</tr>
<tr>
<td style="text-align:center;">
6
</td>
<td style="text-align:left;">
Fire in the Sky
</td>
<td style="text-align:left;">
Anderson .Paak
</td>
</tr>
<tr>
<td style="text-align:center;">
7
</td>
<td style="text-align:left;">
Lose Control
</td>
<td style="text-align:left;">
JJ Lin
</td>
</tr>
<tr>
<td style="text-align:center;">
8
</td>
<td style="text-align:left;">
Every Summertime
</td>
<td style="text-align:left;">
NIKI
</td>
</tr>
<tr>
<td style="text-align:center;">
9
</td>
<td style="text-align:left;">
Never Gonna Come Down
</td>
<td style="text-align:left;">
Mark Tuan, BIBI
</td>
</tr>
<tr>
<td style="text-align:center;">
10
</td>
<td style="text-align:left;">
Foolish
</td>
<td style="text-align:left;">
Rich Brian, Warren Hue, Guapdad 4000
</td>
</tr>
<tr>
<td style="text-align:center;">
11
</td>
<td style="text-align:left;">
Clocked Out!
</td>
<td style="text-align:left;">
Audrey Nuna, NIKI
</td>
</tr>
<tr>
<td style="text-align:center;">
12
</td>
<td style="text-align:left;">
Act Up
</td>
<td style="text-align:left;">
Rich Brian, EARTHGANG
</td>
</tr>
<tr>
<td style="text-align:center;">
13
</td>
<td style="text-align:left;">
Baba Says
</td>
<td style="text-align:left;">
Adawa, Shayiting EL, Henry Lau
</td>
</tr>
<tr>
<td style="text-align:center;">
14
</td>
<td style="text-align:left;">
Run It
</td>
<td style="text-align:left;">
DJ Snake, Rick Ross, Rich Brian
</td>
</tr>
<tr>
<td style="text-align:center;">
15
</td>
<td style="text-align:left;">
Swan Song
</td>
<td style="text-align:left;">
Saweetie, NIKI
</td>
</tr>
<tr>
<td style="text-align:center;">
16
</td>
<td style="text-align:left;">
War With Heaven
</td>
<td style="text-align:left;">
keshi
</td>
</tr>
<tr>
<td style="text-align:center;">
17
</td>
<td style="text-align:left;">
Hot Soup
</td>
<td style="text-align:left;">
88rising, Simu Liu
</td>
</tr>
<tr>
<td style="text-align:center;">
18
</td>
<td style="text-align:left;">
Warriors
</td>
<td style="text-align:left;">
Warren Hue, Seori
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><span class="math display">\[\\[0.08in]\]</span></p>
<p>The sentiment and order of songs in the <em>Shang-Chi</em> album may be a parallel of the films narrative, which is why I will use all 18 songs from the soundtrack (<strong>Table 2</strong>). There are a few songs that have a large portion of the lyrics in Chinese or Japanese characters, so using the English lyrics from Google Translate, I will plot the sentiment trajectory of all songs throughout the album. Using the AFINN lexicon, I obtained the moving average with a window size of 5 words, and plotted the moving average sentiment throughout the album.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>########## Tokenize `lyrics` and remove stop words for all songs ##########</span>

<span class='va'>shangchi_album_words</span> <span class='op'>&lt;-</span> <span class='va'>shangchi</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Select variables</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>track_number</span>, <span class='va'>song_name</span>, 
         <span class='va'>artist_name</span>, <span class='va'>lyrics</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Change string in `lyrics` to all lowercase</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>lyrics <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/case.html'>str_to_lower</a></span><span class='op'>(</span><span class='va'>lyrics</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Remove excess leading and trailing white space from `lyrics`</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>lyrics <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_trim.html'>str_trim</a></span><span class='op'>(</span><span class='va'>lyrics</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Tokenize by words, drops punctuation</span>
  <span class='co'>#Creates new column called `word` which tokenizes `lyrics` by words</span>
  <span class='fu'><a href='https://rdrr.io/pkg/tidytext/man/unnest_tokens.html'>unnest_tokens</a></span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>lyrics</span>, token <span class='op'>=</span> <span class='st'>"words"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Remove stop words</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter-joins.html'>anti_join</a></span><span class='op'>(</span><span class='va'>stop_words</span><span class='op'>)</span>


<span class='co'>#Word count of songs in album</span>
<span class='va'>shangchi_album_wordcount</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_album_words</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Count words by song</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>song_name</span>, <span class='va'>word</span><span class='op'>)</span>


<span class='co'>#Add more stop words to remove</span>
<span class='va'>my_stopwords</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>word <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"yeah"</span>, <span class='st'>"ay"</span>, <span class='st'>"ayy"</span>, <span class='st'>"ba"</span>, <span class='st'>"brr"</span>, <span class='st'>"dadum"</span>,
                                <span class='st'>"di"</span>, <span class='st'>"da"</span>, <span class='st'>"boom"</span>, <span class='st'>"em"</span>, <span class='st'>"uh"</span>, <span class='st'>"huh"</span>,
                                <span class='st'>"ah"</span>, <span class='st'>"ooh"</span>, <span class='st'>"hm"</span>, <span class='st'>"woah"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>#Further remove my stop words</span>
<span class='va'>shangchi_album_words</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_album_words</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter-joins.html'>anti_join</a></span><span class='op'>(</span><span class='va'>my_stopwords</span><span class='op'>)</span>



<span class='co'>########## Afinn sentiment analysis ##########</span>

<span class='co'>#First, bind words in `shangchi_album_words` to `afinn` lexicon:</span>
<span class='va'>shangchi_afinn_album</span> <span class='op'>&lt;-</span> <span class='va'>shangchi_album_words</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Keep instance of first df that match 2nd df</span>
  <span class='co'>#Keep rows that match between the two</span>
  <span class='co'>#AFINN score in `value` column</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>inner_join</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/tidytext/man/get_sentiments.html'>get_sentiments</a></span><span class='op'>(</span><span class='st'>"afinn"</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"word"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Create an index</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>index <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>word</span><span class='op'>)</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  
  <span class='co'>#Create moving average with window of 3</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>moving_avg <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'>zoo</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/zoo/man/rollmean.html'>rollmean</a></span><span class='op'>(</span><span class='va'>value</span>, 
                                               k <span class='op'>=</span> <span class='fl'>5</span>, 
                                               fill <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  
  <span class='co'>#Create variable for whether mean is positive or negative</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>neg_pos <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>moving_avg</span> <span class='op'>&gt;</span> <span class='fl'>0</span> <span class='op'>~</span> <span class='st'>"Positive"</span>,
                                    <span class='va'>moving_avg</span> <span class='op'>&lt;=</span> <span class='fl'>0</span> <span class='op'>~</span> <span class='st'>"Negative"</span><span class='op'>)</span>,
                          levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Positive"</span>, <span class='st'>"Negative"</span><span class='op'>)</span>,
                          labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Positive"</span>, <span class='st'>"Negative"</span><span class='op'>)</span>,
                          ordered <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>



<span class='co'>########## Plot sentiment trajectory ##########</span>

<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>shangchi_afinn_album</span>, 
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>index</span>, y <span class='op'>=</span> <span class='va'>moving_avg</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Define column</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>neg_pos</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Change colors</span>
  <span class='co'>#Positive = Shang-Chi colors</span>
  <span class='co'>#Negative = Wenwu colors</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Positive"</span> <span class='op'>=</span> <span class='st'>"coral"</span>,
                                 <span class='st'>"Negative"</span> <span class='op'>=</span> <span class='st'>"cornflowerblue"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>

  <span class='co'>#Change x-axis and y-axis label, remove legend title</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"\nWord Index"</span>,
       y <span class='op'>=</span> <span class='st'>"Moving Average (AFINN Lexicon)\n"</span>,
       fill <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Change theme</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='co'>#Add custom theme</span>
  <span class='co'>#Bold and change size of axes titles</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>face <span class='op'>=</span> <span class='st'>"bold"</span>, size <span class='op'>=</span> <span class='fl'>12</span><span class='op'>)</span>,
        
        <span class='co'>#Change size of axis ticks</span>
        axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>,
        
        <span class='co'>#Change legend position</span>
        legend.position <span class='op'>=</span> <span class='st'>"top"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="text_analysis_shangchi_files/figure-html5/afinn-moving-average-1.png" width="624" style="display: block; margin: auto;" /></p>
</div>
<p><strong>Figure 6.</strong> Mean sentiment trajectory calculated using a moving average and AFINN lexicon for English words from all songs in the <em>Shang-Chi and the Legend of the Ten Rings: The Album</em> soundtrack. Words are indexed in the order of their appearance in the song, and the songs are ordered by the track number in the album. Data source: LyricFind, Musixmatch, &amp; Genius.</p>
<p><br></p>
<p>From the mean sentiment trajectory, it appears that words have been consistently labeled as having more negative than positive associations. This may be due to the fact that hip-hop songs in general contain more direct and aggressive words. There is a major negative mean sentiment jump towards the end of the album, likely from the song Hot Soup which track number 17. In it, Simu Lius lyrics describe the memories and longing for his family while being away from home and the song is considered one of the more melancholic songs in the album.</p>
<p>The album initially had a total of 7,285 words after lyrics were tokenized, but words were reduced to 2,463 after removing stop words. When matching with the words available in the AFINN lexicon, only 349 words remain for analysis. This limits what the true sentiment trajectory could look like.</p>
<p>Additionally, if the <em>Shang-Chi</em> script was publicly available, we can use it to compare the sentiment trajectory of the words in the film with the trajectory of the songs in the album. Its highly likely they have very different sentiment trajectories. Having watched the movie in theaters, I can at least confirm that the sentiment trajectory of the script at the end of the film isnt as negative as what is shown in the album (<strong>Figure 6</strong>)!</p>
<h2 class="unnumbered" id="section-1"></h2>
<p><br></p>
<h1 id="summary">Summary</h1>
<p>In conclusion, we can use text and sentiment analysis on lyrics from songs in the <em>Shang-Chi and the Legend of the Ten Rings: The Album</em> soundtrack. Some interesting findings include:</p>
<ul>
<li><p>Text analysis shows that the most frequent words within each song were generally consistent with the brief and themes of the film.</p></li>
<li><p>Sentiment analysis using different lexicons (AFINN versus MRC emotion) can produce different interpretations for whether words are generally associated as more positive or negative. The chosen 10 songs contained words that are generally more negative than positive</p></li>
<li><p>Moving average of sentiment trajectory across the album reveals that songs are generally categorized as negative. Comparison with the words in the films script may be useful to identify common narratives and themes</p></li>
</ul>
<p>Future directions could look into other lexicons, especially those that can categorize text of different characters, and measure differences for accuracy. In addition, looking into other text mining methods would be useful to understand how words and context in sentence structures (or lyrics) can be decomposed yet retain similar valence and emotional ratings.</p>
<h1 id="references">References</h1>
<h2 id="data-and-literature">Data and Literature</h2>
<p>ALL4YUTA, Whitney, M., Bathke, S. &amp; Vanessa. (2021). 88rising Brings Asian Exellence with Shang-Chi OST. Envimedia. <a href="https://www.envimedia.co/88rising-brings-asian-excellence-with-shang-chi-ost/" class="uri">https://www.envimedia.co/88rising-brings-asian-excellence-with-shang-chi-ost/</a>.</p>
<p>Dinh, C. (2021). Shang-Chi and The Legend of The Ten Rings: The Album Drops September 3. <a href="https://www.marvel.com/articles/movies/shang-chi-legend-of-the-ten-rings-album" class="uri">https://www.marvel.com/articles/movies/shang-chi-legend-of-the-ten-rings-album</a>.</p>
<p>Genius (2022). NIKI Every Summertime Official Lyrics &amp; Meaning | Verified. YouTube. <a href="https://www.youtube.com/watch?v=wFUe5U-AyK0&amp;t=87s&amp;ab_channel=Genius" class="uri">https://www.youtube.com/watch?v=wFUe5U-AyK0&amp;t=87s&amp;ab_channel=Genius</a>.</p>
<p>Mohammad, S. M., &amp; Turney, P. D. (2013). Crowdsourcing a wordemotion association lexicon. Computational intelligence, 29(3), 436-465. <a href="http://saifmohammad.com/WebPages/NRC-Emotion-Lexicon.htm" class="uri">http://saifmohammad.com/WebPages/NRC-Emotion-Lexicon.htm</a>.</p>
<p>Nielsen, F.. (2011). AFINN. Informatics and Mathematical Modelling, Technical University of Denmark. <a href="https://www2.imm.dtu.dk/pubdb/pubs/6010-full.html" class="uri">https://www2.imm.dtu.dk/pubdb/pubs/6010-full.html</a>.</p>
<p>NPR. (2021). Adele asked Spotify to remove the default shuffle button for albums, and they obliged. <a href="https://www.npr.org/2021/11/21/1057783216/adele-spotify-shuffle-30" class="uri">https://www.npr.org/2021/11/21/1057783216/adele-spotify-shuffle-30</a>.</p>
<p>Wikipedia contributors. (2022). 88rising. In Wikipedia, The Free Encyclopedia. Retrieved 06:55, March 6, 2022, from <a href="https://en.wikipedia.org/wiki/88rising" class="uri">https://en.wikipedia.org/wiki/88rising</a>.</p>
<h2 id="r-libraries">R Libraries</h2>
<p>Hvitfeldt, E. (2020). textdata: Download and Load Various Text Datasets. R package version 0.4.1. <a href="https://CRAN.R-project.org/package=textdata" class="uri">https://CRAN.R-project.org/package=textdata</a>.</p>
<p>Hvitfeldt, E. (2021). paletteer: Comprehensive Collection of Color Palettes. version 1.3.0. <a href="https://github.com/EmilHvitfeldt/paletteer" class="uri">https://github.com/EmilHvitfeldt/paletteer</a>.</p>
<p>Le Pennec, E. &amp; Slowikowski, K. (2019). ggwordcloud: A Word Cloud Geom for ggplot2. R package version 0.5.0. <a href="https://CRAN.R-project.org/package=ggwordcloud" class="uri">https://CRAN.R-project.org/package=ggwordcloud</a>.</p>
<p>Mller, K. (2020). here: A Simpler Way to Find Your Files. R package version 1.0.1. <a href="https://CRAN.R-project.org/package=here" class="uri">https://CRAN.R-project.org/package=here</a>.</p>
<p>Pedersen, T.L. (2020). patchwork: The Composer of Plots. R package version 1.1.1. <a href="https://CRAN.R-project.org/package=patchwork" class="uri">https://CRAN.R-project.org/package=patchwork</a>.</p>
<p>Silge, J. &amp; Robinson, D. (2016). tidytext: Text Mining and Analysis Using Tidy Data Principles in R. <em>JOSS</em>, <em>1</em>(3). doi: 10.21105/joss.00037 URL: <a href="http://dx.doi.org/10.21105/joss.00037" class="uri">http://dx.doi.org/10.21105/joss.00037</a>.</p>
<p>Wickham et al., (2019). Welcome to the tidyverse. Journal of Open Source Software, 4(43), 1686, <a href="https://doi.org/10.21105/joss.01686" class="uri">https://doi.org/10.21105/joss.01686</a>.</p>
<p>Wickham, H. &amp; Bryan, J. (2019). readxl: Read Excel Files. R package version 1.3.1. <a href="https://CRAN.R-project.org/package=readxl" class="uri">https://CRAN.R-project.org/package=readxl</a>.</p>
<p>Zeileis, A. &amp; Grothendieck, G. (2005). zoo: S3 Infrastructure for Regular and Irregular Time Series. Journal of Statistical Software, 14(6), 1-27. <a href="doi:10.18637/jss.v014.i06" class="uri">doi:10.18637/jss.v014.i06</a>.</p>
<p>Zhu, H. (2021). kableExtra: Construct Complex Table with kable and Pipe Syntax. R package version 1.3.4. <a href="https://CRAN.R-project.org/package=kableExtra" class="uri">https://CRAN.R-project.org/package=kableExtra</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Yu (2022, March 22). SY: Text and Sentiment Analysis: Songs from Shang-Chi and the Legend of the Ten Rings: The Album. Retrieved from https://esswhy.github.io/portfolio/text_analysis_shangchi/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{yu2022text,
  author = {Yu, Shuying},
  title = {SY: Text and Sentiment Analysis: Songs from Shang-Chi and the Legend of the Ten Rings: The Album},
  url = {https://esswhy.github.io/portfolio/text_analysis_shangchi/},
  year = {2022}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
